<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø¯Ø§Ø¡</title>
    <!-- Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù…ÙƒØªØ¨Ø© ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* Ø§Ù„ØªØµÙ…ÙŠÙ… ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù† */
        :root { --bg-color: #f3f4f6; --card-bg: #ffffff; --text-color: #1f2937; --accent: #2563eb; }
        body {
            font-family: sans-serif; background-color: var(--bg-color);
            color: var(--text-color); margin: 0; padding: 20px;
        }
        .header { text-align: center; margin-bottom: 25px; }
        .header h2 { margin: 0; font-size: 1.4rem; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .card {
            background: var(--card-bg); border-radius: 15px; padding: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); text-align: center;
        }
        .card.full { grid-column: span 2; }
        .icon { font-size: 2rem; margin-bottom: 5px; }
        .label { font-size: 0.9rem; color: #6b7280; margin-bottom: 5px; }
        .value { font-size: 1.3rem; font-weight: bold; color: var(--accent); }
    </style>
</head>
<body>

    <div class="header">
        <h2>ğŸ“Š Ù…Ù„Ø®Øµ Ø­Ø³Ø§Ø¨Ùƒ</h2>
        <p id="date-text" style="font-size: 0.8rem; color: gray;">...</p>
    </div>

    <div class="grid">
        <div class="card">
            <div class="icon">ğŸ’°</div>
            <div class="label">Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</div>
            <div class="value" id="sales">-</div>
        </div>
        <div class="card">
            <div class="icon">ğŸ›’</div>
            <div class="label">Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
            <div class="value" id="orders">-</div>
        </div>
        <div class="card full">
            <div class="icon">ğŸ“ˆ</div>
            <div class="label">Ù…ØªÙˆØ³Ø· Ø§Ù„Ø³Ù„Ø©</div>
            <div class="value" id="avg">-</div>
        </div>
        <div class="card full">
            <div class="icon">ğŸ†</div>
            <div class="label">Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø£ÙØ¶Ù„</div>
            <div class="value" id="top">-</div>
        </div>
    </div>

    <!-- Ø²Ø± Ø¥ØºÙ„Ø§Ù‚ -->
    <button onclick="Telegram.WebApp.close()" style="
        width: 100%; margin-top: 25px; padding: 15px;
        background: var(--accent); color: white; border: none;
        border-radius: 10px; font-weight: bold; cursor: pointer;">
        Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
    </button>

    <script>
        // ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆÙŠØ¨ Ø¢Ø¨
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand(); // Ø§Ø¬Ø¹Ù„ Ø§Ù„Ù†Ø§ÙØ°Ø© ØªÙ…Ù„Ø£ Ø§Ù„Ø´Ø§Ø´Ø©

        // Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±Ø³Ù„Ø© ÙÙŠ Ø§Ù„Ø±Ø§Ø¨Ø·
        const params = new URLSearchParams(window.location.search);
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„ØµÙØ­Ø©
        document.getElementById('sales').innerText = params.get('sales') || "0";
        document.getElementById('orders').innerText = params.get('orders') || "0";
        document.getElementById('avg').innerText = params.get('avg') || "0";
        document.getElementById('top').innerText = params.get('top') || "Ù„Ø§ ÙŠÙˆØ¬Ø¯";
        
        // Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ
        document.getElementById('date-text').innerText = new Date().toLocaleDateString('ar-EG');

        // Ø¯Ø¹Ù… Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ (Dark Mode)
        if (tg.colorScheme === 'dark') {
            document.body.style.setProperty('--bg-color', '#18222d');
            document.body.style.setProperty('--card-bg', '#283441');
            document.body.style.setProperty('--text-color', '#ffffff');
        }
    </script>
</body>
</html>
